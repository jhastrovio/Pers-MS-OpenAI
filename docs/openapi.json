{"openapi":"3.1.0","info":{"title":"Personal MS Assistant ChatGPT Actions","description":"API endpoints for ChatGPT actions integration","version":"1.0.0"},"paths":{"/auth/login":{"get":{"tags":["authentication"],"summary":"Login","description":"Start the OAuth2 login flow","operationId":"login_auth_login_get","responses":{"200":{"description":"Successful Response","content":{"application/json":{"schema":{}}}}}}},"/auth/callback":{"get":{"tags":["authentication"],"summary":"Callback","description":"Handle the OAuth2 callback","operationId":"callback_auth_callback_get","parameters":[{"name":"code","in":"query","required":true,"schema":{"type":"string","title":"Code"}},{"name":"state","in":"query","required":false,"schema":{"anyOf":[{"type":"string"},{"type":"null"}],"title":"State"}}],"responses":{"200":{"description":"Successful Response","content":{"application/json":{"schema":{}}}},"422":{"description":"Validation Error","content":{"application/json":{"schema":{"$ref":"#/components/schemas/HTTPValidationError"}}}}}}},"/auth/refresh":{"post":{"tags":["authentication"],"summary":"Refresh","description":"Refresh an expired access token","operationId":"refresh_auth_refresh_post","parameters":[{"name":"refresh_token","in":"query","required":true,"schema":{"type":"string","title":"Refresh Token"}}],"responses":{"200":{"description":"Successful Response","content":{"application/json":{"schema":{}}}},"422":{"description":"Validation Error","content":{"application/json":{"schema":{"$ref":"#/components/schemas/HTTPValidationError"}}}}}}},"/data/recent":{"get":{"tags":["data"],"summary":"Get Recent Data","description":"Get recent data entries from Outlook and OneDrive with AI-enhanced processing","operationId":"get_recent_data_data_recent_get","security":[{"APIKeyHeader":[]}],"parameters":[{"name":"limit","in":"query","required":false,"schema":{"type":"integer","default":10,"title":"Limit"}}],"responses":{"200":{"description":"Successful Response","content":{"application/json":{"schema":{"type":"array","items":{"$ref":"#/components/schemas/DataEntry"},"title":"Response Get Recent Data Data Recent Get"}}}},"422":{"description":"Validation Error","content":{"application/json":{"schema":{"$ref":"#/components/schemas/HTTPValidationError"}}}}}}},"/data/search":{"post":{"tags":["data"],"summary":"Search Data","description":"Search data entries in Outlook and OneDrive with semantic search","operationId":"search_data_data_search_post","requestBody":{"content":{"application/json":{"schema":{"$ref":"#/components/schemas/SearchQuery"}}},"required":true},"responses":{"200":{"description":"Successful Response","content":{"application/json":{"schema":{"$ref":"#/components/schemas/SearchResponse"}}}},"422":{"description":"Validation Error","content":{"application/json":{"schema":{"$ref":"#/components/schemas/HTTPValidationError"}}}}},"security":[{"APIKeyHeader":[]}]}},"/data/answer":{"post":{"tags":["data"],"summary":"Answer Question","description":"Answer a question about specific content","operationId":"answer_question_data_answer_post","requestBody":{"content":{"application/json":{"schema":{"$ref":"#/components/schemas/QuestionRequest"}}},"required":true},"responses":{"200":{"description":"Successful Response","content":{"application/json":{"schema":{}}}},"422":{"description":"Validation Error","content":{"application/json":{"schema":{"$ref":"#/components/schemas/HTTPValidationError"}}}}},"security":[{"APIKeyHeader":[]}]}},"/data/":{"post":{"tags":["data"],"summary":"Add Entry","description":"Add a new data entry","operationId":"add_entry_data__post","requestBody":{"content":{"application/json":{"schema":{"$ref":"#/components/schemas/AddEntryRequest"}}},"required":true},"responses":{"200":{"description":"Successful Response","content":{"application/json":{"schema":{"$ref":"#/components/schemas/DataEntry"}}}},"422":{"description":"Validation Error","content":{"application/json":{"schema":{"$ref":"#/components/schemas/HTTPValidationError"}}}}},"security":[{"APIKeyHeader":[]}]}},"/data/{entry_id}":{"put":{"tags":["data"],"summary":"Update Entry","description":"Update an existing data entry","operationId":"update_entry_data__entry_id__put","security":[{"APIKeyHeader":[]}],"parameters":[{"name":"entry_id","in":"path","required":true,"schema":{"type":"string","title":"Entry Id"}},{"name":"content","in":"query","required":true,"schema":{"type":"string","title":"Content"}}],"requestBody":{"content":{"application/json":{"schema":{"anyOf":[{"type":"object"},{"type":"null"}],"title":"Metadata"}}}},"responses":{"200":{"description":"Successful Response","content":{"application/json":{"schema":{"$ref":"#/components/schemas/DataEntry"}}}},"422":{"description":"Validation Error","content":{"application/json":{"schema":{"$ref":"#/components/schemas/HTTPValidationError"}}}}}},"delete":{"tags":["data"],"summary":"Delete Entry","description":"Delete a data entry","operationId":"delete_entry_data__entry_id__delete","security":[{"APIKeyHeader":[]}],"parameters":[{"name":"entry_id","in":"path","required":true,"schema":{"type":"string","title":"Entry Id"}}],"responses":{"200":{"description":"Successful Response","content":{"application/json":{"schema":{}}}},"422":{"description":"Validation Error","content":{"application/json":{"schema":{"$ref":"#/components/schemas/HTTPValidationError"}}}}}}},"/data/sources":{"get":{"tags":["data"],"summary":"Get Available Sources","description":"Get available data sources","operationId":"get_available_sources_data_sources_get","responses":{"200":{"description":"Successful Response","content":{"application/json":{"schema":{"items":{"type":"string"},"type":"array","title":"Response Get Available Sources Data Sources Get"}}}}},"security":[{"APIKeyHeader":[]}]}},"/":{"get":{"summary":"Root","operationId":"root__get","responses":{"200":{"description":"Successful Response","content":{"application/json":{"schema":{}}}}}}}},"components":{"schemas":{"AddEntryRequest":{"properties":{"content":{"type":"string","title":"Content"},"metadata":{"anyOf":[{"type":"object"},{"type":"null"}],"title":"Metadata"}},"type":"object","required":["content"],"title":"AddEntryRequest"},"DataEntry":{"properties":{"id":{"type":"string","title":"Id"},"content":{"type":"string","title":"Content"},"source":{"$ref":"#/components/schemas/DataSource"},"source_id":{"type":"string","title":"Source Id"},"created_at":{"type":"string","format":"date-time","title":"Created At"},"updated_at":{"type":"string","format":"date-time","title":"Updated At"},"metadata":{"anyOf":[{"type":"object"},{"type":"null"}],"title":"Metadata"}},"type":"object","required":["id","content","source","source_id","created_at","updated_at"],"title":"DataEntry"},"DataSource":{"type":"string","enum":["outlook_email","onedrive_file","manual"],"title":"DataSource"},"HTTPValidationError":{"properties":{"detail":{"items":{"$ref":"#/components/schemas/ValidationError"},"type":"array","title":"Detail"}},"type":"object","title":"HTTPValidationError"},"QuestionRequest":{"properties":{"question":{"type":"string","title":"Question"},"context_ids":{"items":{"type":"string"},"type":"array","title":"Context Ids"}},"type":"object","required":["question","context_ids"],"title":"QuestionRequest"},"SearchQuery":{"properties":{"query":{"type":"string","title":"Query"},"sources":{"anyOf":[{"items":{"$ref":"#/components/schemas/DataSource"},"type":"array"},{"type":"null"}],"title":"Sources"},"filters":{"anyOf":[{"type":"object"},{"type":"null"}],"title":"Filters"},"limit":{"anyOf":[{"type":"integer"},{"type":"null"}],"title":"Limit","default":10},"offset":{"anyOf":[{"type":"integer"},{"type":"null"}],"title":"Offset","default":0}},"type":"object","required":["query"],"title":"SearchQuery"},"SearchResponse":{"properties":{"results":{"items":{"$ref":"#/components/schemas/DataEntry"},"type":"array","title":"Results"},"total_count":{"type":"integer","title":"Total Count"},"page":{"type":"integer","title":"Page"},"page_size":{"type":"integer","title":"Page Size"}},"type":"object","required":["results","total_count","page","page_size"],"title":"SearchResponse"},"ValidationError":{"properties":{"loc":{"items":{"anyOf":[{"type":"string"},{"type":"integer"}]},"type":"array","title":"Location"},"msg":{"type":"string","title":"Message"},"type":{"type":"string","title":"Error Type"}},"type":"object","required":["loc","msg","type"],"title":"ValidationError"}},"securitySchemes":{"APIKeyHeader":{"type":"apiKey","in":"header","name":"X-API-Key"}}}}